(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{9127:function(e,t,r){Promise.resolve().then(r.bind(r,5018)),Promise.resolve().then(r.bind(r,3530)),Promise.resolve().then(r.bind(r,346)),Promise.resolve().then(r.bind(r,7699)),Promise.resolve().then(r.t.bind(r,2972,23))},5018:function(e,t,r){"use strict";r.d(t,{FiltersTrigger:function(){return v}});var a=r(7437),n=r(2265),s=r(9027),l=r(8239),i=r(8614),o=r(2489),d=r(1994);function c(e){var t,r,c,h,g;let{open:b,onOpenChange:v,initial:j,onApply:w,onReset:N,className:y}=e,[k,C]=(0,n.useState)(j),[S,M]=(0,n.useState)(!1),P=(0,n.useRef)(0);(0,n.useEffect)(()=>{C(j)},[j]),(0,n.useEffect)(()=>{let e=()=>M(window.matchMedia("(max-width: 768px)").matches);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let E=(0,n.useMemo)(()=>S?"fixed left-1/2 -translate-x-1/2 bottom-0 w-full max-w-none h-[100dvh] rounded-t-2xl":"fixed right-0 top-0 h-full w-[92vw] max-w-md rounded-none",[S]),R=(0,a.jsxs)(l.E.div,{role:"dialog","aria-modal":"true",className:(0,d.Z)("z-[60] border border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900 shadow-soft flex flex-col",E,y),initial:{opacity:0,y:S?20:0,x:S?0:24,scale:1},animate:{opacity:1,y:0,x:0,scale:1},exit:{opacity:0,y:S?20:0,x:S?0:24,scale:1},transition:{duration:.18,ease:"easeOut"},drag:!!S&&"y",dragConstraints:{top:0,bottom:0},dragElastic:.08,onDragStart:(e,t)=>{P.current=t.point.y},onDragEnd:(e,t)=>{t.point.y-P.current>120&&v(!1)},children:[S&&(0,a.jsx)("div",{className:"flex items-center justify-center pt-2",children:(0,a.jsx)("div",{className:"h-1.5 w-12 rounded-full bg-slate-300/80 dark:bg-white/20"})}),(0,a.jsxs)("div",{className:(0,d.Z)("flex items-center justify-between gap-3 px-4 py-3","border-b border-slate-200 dark:border-white/10",!S&&"pt-4"),children:[(0,a.jsx)("div",{className:"text-base font-semibold",children:"Filtre"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{className:"h-9 px-3 rounded-lg border border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60 text-sm hover:shadow-soft",onClick:()=>{null==N||N(),C({})},children:"Reset"}),(0,a.jsx)(s.x8,{className:"rounded-md p-1 hover:bg-slate-100 dark:hover:bg-white/10","aria-label":"\xcenchide",children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto px-4 py-4",children:[(0,a.jsx)(u,{title:"Culoare",children:(0,a.jsx)(m,{options:["Alb","Negru","Roșu","Verde","Auriu"],values:null!==(t=k.color)&&void 0!==t?t:[],onChange:e=>C(t=>({...t,color:e}))})}),(0,a.jsx)(u,{title:"Preț",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(f,{placeholder:"Min",value:null!==(r=k.priceMin)&&void 0!==r?r:"",onChange:e=>C(t=>({...t,priceMin:e}))}),(0,a.jsx)(f,{placeholder:"Max",value:null!==(c=k.priceMax)&&void 0!==c?c:"",onChange:e=>C(t=>({...t,priceMax:e}))})]})}),(0,a.jsx)(u,{title:"Material",children:(0,a.jsx)(x,{options:["Ceramică","Plastic","Metal","Carton","Sticlă"],values:null!==(h=k.material)&&void 0!==h?h:[],onToggle:e=>C(t=>{var r;let a=new Set(null!==(r=t.material)&&void 0!==r?r:[]);return a.has(e)?a.delete(e):a.add(e),{...t,material:Array.from(a)}})})}),(0,a.jsx)(u,{title:"Sortare",children:(0,a.jsx)(p,{value:null!==(g=k.sort)&&void 0!==g?g:"popular",onChange:e=>C(t=>({...t,sort:e})),options:[{value:"popular",label:"Cele mai populare"},{value:"price-asc",label:"Preț crescător"},{value:"price-desc",label:"Preț descrescător"},{value:"new",label:"Cele mai noi"}]})})]}),(0,a.jsx)("div",{className:"p-3 border-t border-slate-200 dark:border-white/10 bg-slate-50/60 dark:bg-white/5",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(s.x8,{asChild:!0,children:(0,a.jsx)("button",{className:"h-10 px-4 rounded-xl border border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60 text-sm hover:shadow-soft",children:"Anulează"})}),(0,a.jsx)("button",{onClick:()=>{w(k),v(!1)},className:"h-10 px-4 rounded-xl text-sm font-medium bg-brand text-white hover:bg-brand-dark focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2 ring-offset-white dark:ring-offset-slate-950",children:"Aplică filtre"})]})})]});return(0,a.jsx)(s.fC,{open:b,onOpenChange:v,children:(0,a.jsx)(i.M,{children:b&&(0,a.jsxs)(s.h_,{forceMount:!0,children:[(0,a.jsx)(s.aV,{asChild:!0,children:(0,a.jsx)(l.E.div,{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-[2px]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})}),(0,a.jsx)(s.VY,{asChild:!0,children:R})]})})})}function u(e){let{title:t,children:r}=e;return(0,a.jsxs)("section",{className:"mb-5",children:[(0,a.jsx)("h3",{className:"mb-2 text-sm font-semibold",children:t}),r]})}function h(e){let{selected:t,label:r,onClick:n}=e;return(0,a.jsx)("button",{onClick:n,className:(0,d.Z)("px-3 h-9 rounded-lg text-sm border transition",t?"bg-brand text-white border-brand":"bg-white dark:bg-slate-900/60 text-slate-700 dark:text-slate-200 border-slate-200 dark:border-white/10 hover:shadow-soft"),children:r})}function m(e){let{options:t,values:r,onChange:n}=e;return(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>{let t=r.includes(e);return(0,a.jsx)(h,{label:e,selected:t,onClick:()=>{let a=new Set(r);t?a.delete(e):a.add(e),n(Array.from(a))}},e)})})}function f(e){let{value:t,onChange:r,placeholder:n}=e;return(0,a.jsx)("input",{inputMode:"numeric",pattern:"[0-9]*",className:"h-10 w-full rounded-xl border border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60 px-3 text-sm",value:null===t?"":t,placeholder:n,onChange:e=>{let t=e.target.value.trim();if(!t)return r(null);let a=Number(t);r(Number.isFinite(a)?a:null)}})}function x(e){let{options:t,values:r,onToggle:n}=e;return(0,a.jsx)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:t.map(e=>{let t=r.includes(e);return(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 dark:border-white/20 text-brand focus:ring-brand",checked:t,onChange:()=>n(e)}),(0,a.jsx)("span",{children:e})]},e)})})}function p(e){let{value:t,onChange:r,options:n}=e;return(0,a.jsx)("select",{value:t,onChange:e=>r(e.target.value),className:"h-10 w-full rounded-xl border border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60 px-3 text-sm",children:n.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})}var g=r(2869),b=r(9376);function v(){var e;let[t,r]=(0,n.useState)(!1),s=(0,b.useRouter)(),l=(0,b.useSearchParams)(),i={color:l.getAll("color"),priceMin:l.get("min")?Number(l.get("min")):null,priceMax:l.get("max")?Number(l.get("max")):null,material:l.getAll("mat"),sort:null!==(e=l.get("sort"))&&void 0!==e?e:"popular"};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)(g.z,{variant:"secondary",onClick:()=>r(!0),children:"Filtre"})}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)(g.z,{variant:"secondary",onClick:()=>r(!0),children:"Filtre"})}),(0,a.jsx)(c,{open:t,onOpenChange:r,initial:i,onApply:e=>{var t,r;let a=new URLSearchParams(l.toString());a.delete("color"),(null!==(t=e.color)&&void 0!==t?t:[]).forEach(e=>a.append("color",e)),a.delete("mat"),(null!==(r=e.material)&&void 0!==r?r:[]).forEach(e=>a.append("mat",e)),null==e.priceMin?a.delete("min"):a.set("min",String(e.priceMin)),null==e.priceMax?a.delete("max"):a.set("max",String(e.priceMax)),e.sort?a.set("sort",e.sort):a.delete("sort"),a.delete("page"),s.push("?".concat(a.toString()))},onReset:()=>{let e=new URLSearchParams(l.toString());["color","mat","min","max","sort","page"].forEach(t=>e.delete(t)),s.push("?".concat(e.toString()))}})]})}},4089:function(e,t,r){"use strict";r.d(t,{E:function(){return n},e:function(){return a}});let a={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{duration:.28,ease:"easeOut"}}},n={hidden:{},visible:{transition:{staggerChildren:.06,delayChildren:.04}}}},4899:function(e,t,r){"use strict";r.d(t,{I:function(){return u}});var a=r(7437),n=r(3145),s=r(7648),l=r(2869),i=r(212),o=r(2265),d=r(4508);o.forwardRef((e,t)=>{let{children:r,className:n,minHeight:s="min-h-0",aspectRatio:l,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("relative",s,l,n),style:{contain:"layout style paint",...l&&{aspectRatio:l}},...i,children:r})}).displayName="LayoutStable";let c=o.forwardRef((e,t)=>{let{children:r,ratio:n=1,className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("relative overflow-hidden",s),style:{aspectRatio:n.toString()},...l,children:r})});function u(e){let{id:t,slug:r,title:o,price:d,currency:u="RON",imageUrl:h,sellerSlug:m}=e,{showAddToCart:f}=(0,i.p)();return(0,a.jsxs)("div",{className:"group rounded-2xl bg-white dark:bg-slate-900/60 border border-slate-200 dark:border-white/10   hover:shadow-soft transition-all duration-200 p-3 hover:-translate-y-[1px]",children:[(0,a.jsx)(s.default,{href:"/p/".concat(t,"-").concat(r),className:"block",children:(0,a.jsx)(c,{ratio:1,className:"overflow-hidden rounded-xl",children:(0,a.jsx)(n.default,{src:h,alt:o,fill:!0,className:"object-cover transition duration-300 group-hover:scale-[1.03]"})})}),(0,a.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,a.jsx)(s.default,{href:"/p/".concat(t,"-").concat(r),className:"line-clamp-1 font-medium text-slate-900 dark:text-slate-100",children:o}),m&&(0,a.jsx)(s.default,{href:"/s/".concat(m),className:"text-xs text-slate-500 dark:text-slate-400 hover:text-brand",children:m}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)("div",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:[d.toFixed(2)," ",u]}),(0,a.jsx)(l.z,{variant:"secondary",size:"sm",onClick:()=>{f(o)},children:"Adaugă"})]})]})]})}c.displayName="AspectRatio"},346:function(e,t,r){"use strict";r.d(t,{Pagination:function(){return i}});var a=r(7437),n=r(7648),s=r(9376),l=r(1994);function i(e){let{totalPages:t,currentPage:r,maxPagesToShow:i=5,ariaLabel:o="Pagination"}=e,d=(0,s.usePathname)(),c=(0,s.useSearchParams)(),u=e=>{let t=new URLSearchParams(c.toString());return e<=1?t.delete("page"):t.set("page",String(e)),"".concat(d,"?").concat(t.toString()).replace(/\?$/,"")};if(t<=1)return null;let h=Math.max(1,r-Math.floor(i/2)),m=Math.min(t,h+i-1);m-h+1<i&&(h=Math.max(1,m-i+1));let f=[];for(let e=h;e<=m;e++)f.push(e);let x="min-w-9 h-9 px-2 inline-flex items-center justify-center rounded-lg border text-sm transition-all duration-200 border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60 hover:shadow-soft hover:-translate-y-[1px] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2 ring-offset-white dark:ring-offset-slate-950";return(0,a.jsxs)("nav",{"aria-label":o,className:"mt-6 flex items-center justify-center gap-2",children:[(0,a.jsx)(n.default,{"aria-label":"Pagina anterioară",href:u(Math.max(1,r-1)),className:(0,l.Z)(x,1===r&&"pointer-events-none opacity-50"),children:"‹"}),h>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{href:u(1),className:x,children:"1"}),h>2&&(0,a.jsx)("span",{className:"px-1 text-slate-500 dark:text-slate-400",children:"…"})]}),f.map(e=>(0,a.jsx)(n.default,{href:u(e),"aria-current":e===r?"page":void 0,className:(0,l.Z)(x,e===r&&"bg-brand text-white border-brand hover:shadow-none hover:translate-y-0"),children:e},e)),m<t&&(0,a.jsxs)(a.Fragment,{children:[m<t-1&&(0,a.jsx)("span",{className:"px-1 text-slate-500 dark:text-slate-400",children:"…"}),(0,a.jsx)(n.default,{href:u(t),className:x,children:t})]}),(0,a.jsx)(n.default,{"aria-label":"Pagina următoare",href:u(Math.min(t,r+1)),className:(0,l.Z)(x,r===t&&"pointer-events-none opacity-50"),children:"›"})]})}},7699:function(e,t,r){"use strict";r.d(t,{ProductGrid:function(){return u}});var a=r(7437),n=r(2265),s=r(8239),l=r(4899),i=r(4508);let o=n.forwardRef((e,t)=>{let{className:r,children:n,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("animate-pulse rounded-md bg-slate-200 dark:bg-slate-700",r),...s,children:n})});o.displayName="LoadingSkeleton";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsxs)("div",{ref:t,className:(0,i.cn)("group rounded-2xl bg-white dark:bg-slate-900/60 border border-slate-200 dark:border-white/10 p-3",r),...n,children:[(0,a.jsx)(o,{className:"aspect-square rounded-xl mb-3"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o,{className:"h-4 w-3/4"}),(0,a.jsx)(o,{className:"h-3 w-1/2"}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsx)(o,{className:"h-5 w-16"}),(0,a.jsx)(o,{className:"h-8 w-16 rounded-lg"})]})]})]})});d.displayName="ProductCardSkeleton",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsxs)("div",{ref:t,className:(0,i.cn)("rounded-2xl bg-white dark:bg-slate-900/60 border border-slate-200 dark:border-white/10 p-8 text-center",r),...n,children:[(0,a.jsx)(o,{className:"h-8 w-96 mx-auto mb-4"}),(0,a.jsx)(o,{className:"h-4 w-80 mx-auto"})]})}).displayName="CategoryHeaderSkeleton";var c=r(4089);let u=n.forwardRef((e,t)=>{let{products:r,loading:n=!1,className:i,columns:o=3,...u}=e,h={2:"sm:grid-cols-2",3:"sm:grid-cols-2 md:grid-cols-3",4:"sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"};return n?(0,a.jsx)("div",{ref:t,className:"grid gap-4 ".concat(h[o]," ").concat(i||""),...u,children:Array.from({length:8}).map((e,t)=>(0,a.jsx)(d,{},t))}):(0,a.jsx)("div",{ref:t,className:"grid gap-4 ".concat(h[o]," ").concat(i||""),...u,children:r.map((e,t)=>(0,a.jsx)(s.E.div,{variants:c.e,initial:"hidden",animate:"visible",transition:{delay:.05*t},children:(0,a.jsx)(l.I,{...e})},e.id))})});u.displayName="ProductGrid"},212:function(e,t,r){"use strict";r.d(t,{p:function(){return n}});var a=r(4438);let n=()=>({toast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";switch(t){case"success":a.A.success(e);break;case"error":a.A.error(e);break;default:(0,a.A)(e)}},showAddToCart:e=>{a.A.success("".concat(e," a fost adăugat \xeen coș!"),{description:"Poți continua să cumpări sau să finalizezi comanda",action:{label:"Vezi coșul",onClick:()=>{window.location.href="/cart"}}})},showSave:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Salvat cu succes!";a.A.success(e)},showError:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A apărut o eroare!";a.A.error(e)}})},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(1994),n=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}},8614:function(e,t,r){"use strict";r.d(t,{M:function(){return b}});var a=r(7437),n=r(2265),s=r(8881),l=r(3576),i=r(1534),o=r(4252),d=r(3537),c=r(5750);class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,d.R)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:r,anchorX:s,root:l}=e,i=(0,n.useId)(),o=(0,n.useRef)(null),d=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,n.useContext)(c._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:n,right:c}=d.current;if(r||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let u=document.createElement("style");h&&(u.nonce=h);let m=null!=l?l:document.head;return m.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(n):"right: ".concat(c),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{m.contains(u)&&m.removeChild(u)}},[r]),(0,a.jsx)(u,{isPresent:r,childRef:o,sizeRef:d,children:n.cloneElement(t,{ref:o})})}let m=e=>{let{children:t,initial:r,isPresent:s,onExitComplete:i,custom:d,presenceAffectsLayout:c,mode:u,anchorX:m,root:x}=e,p=(0,l.h)(f),g=(0,n.useId)(),b=!0,v=(0,n.useMemo)(()=>(b=!1,{id:g,initial:r,isPresent:s,custom:d,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;i&&i()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[s,p,i]);return c&&b&&(v={...v}),(0,n.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[s]),n.useEffect(()=>{s||p.size||!i||i()},[s]),"popLayout"===u&&(t=(0,a.jsx)(h,{isPresent:s,anchorX:m,root:x,children:t})),(0,a.jsx)(o.O.Provider,{value:v,children:t})};function f(){return new Map}var x=r(9637);let p=e=>e.key||"";function g(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:r,initial:o=!0,onExitComplete:d,presenceAffectsLayout:c=!0,mode:u="sync",propagate:h=!1,anchorX:f="left",root:b}=e,[v,j]=(0,x.oO)(h),w=(0,n.useMemo)(()=>g(t),[t]),N=h&&!v?[]:w.map(p),y=(0,n.useRef)(!0),k=(0,n.useRef)(w),C=(0,l.h)(()=>new Map),[S,M]=(0,n.useState)(w),[P,E]=(0,n.useState)(w);(0,i.L)(()=>{y.current=!1,k.current=w;for(let e=0;e<P.length;e++){let t=p(P[e]);N.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[P,N.length,N.join("-")]);let R=[];if(w!==S){let e=[...w];for(let t=0;t<P.length;t++){let r=P[t],a=p(r);N.includes(a)||(e.splice(t,0,r),R.push(r))}return"wait"===u&&R.length&&(e=R),E(g(e)),M(w),null}let{forceRender:A}=(0,n.useContext)(s.p);return(0,a.jsx)(a.Fragment,{children:P.map(e=>{let t=p(e),n=(!h||!!v)&&(w===P||N.includes(t));return(0,a.jsx)(m,{isPresent:n,initial:(!y.current||!!o)&&void 0,custom:r,presenceAffectsLayout:c,mode:u,root:b,onExitComplete:n?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null==A||A(),E(k.current),h&&(null==j||j()),d&&d())},anchorX:f,children:e},t)})})}}},function(e){e.O(0,[231,386,438,335,145,530,971,117,744],function(){return e(e.s=9127)}),_N_E=e.O()}]);