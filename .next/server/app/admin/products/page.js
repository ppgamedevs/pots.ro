(()=>{var e={};e.id=122,e.ids=[122],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7841:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),a(7478),a(5117),a(5866);var s=a(3191),r=a(8716),i=a(7922),l=a.n(i),n=a(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o=["",{children:["admin",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7478)),"D:\\pots.ro\\app\\admin\\products\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5117)),"D:\\pots.ro\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\pots.ro\\app\\admin\\products\\page.tsx"],u="/admin/products/page",p={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/products/page",pathname:"/admin/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8763:(e,t,a)=>{Promise.resolve().then(a.bind(a,4782)),Promise.resolve().then(a.bind(a,121)),Promise.resolve().then(a.bind(a,474)),Promise.resolve().then(a.t.bind(a,9404,23))},4782:(e,t,a)=>{"use strict";a.d(t,{default:()=>f});var s=a(326),r=a(2843),i=a(434),l=a(7577),n=a(567),d=a(772),o=a(4432),c=a(4474),u=a(8031),p=a(4330),x=a(5999),h=a(8307);let m=(0,a(2881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);function f({initial:e}){let[t,a]=(0,l.useState)(e.items),[f,g]=(0,l.useState)(""),[b,v]=(0,l.useState)("active"),[j,y]=(0,l.useState)([]),w=(0,p.N)(),N=[{key:"title",header:"Produs",sortable:!0,render:e=>(0,s.jsxs)("div",{className:"max-w-[340px]",children:[s.jsx(i.default,{href:`/p/${e.id}`,className:"font-medium hover:underline text-slate-900 dark:text-slate-100",children:e.title}),(0,s.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["V\xe2ndut de"," ",s.jsx(i.default,{className:"hover:underline text-brand",href:`/s/${e.sellers.slug}`,children:e.sellers.brand_name})]})]})},{key:"price",header:"Preț",align:"right",sortable:!0,render:e=>(0,s.jsxs)("span",{className:"font-medium",children:[e.price.toFixed(2)," ",e.currency]})},{key:"stock",header:"Stoc",align:"right",sortable:!0,render:e=>s.jsx("span",{className:e.stock>10?"text-green-600":e.stock>0?"text-amber-600":"text-red-600",children:e.stock})},{key:"status",header:"Status",sortable:!0,render:e=>s.jsx(n.C,{variant:"active"===e.status?"success":"pending"===e.status?"warning":"neutral",children:e.status})},{key:"created_at",header:"Creat",sortable:!0,render:e=>new Date(e.created_at).toLocaleDateString("ro-RO")},{key:"actions",header:"",align:"right",width:"60px",render:e=>s.jsx(u.F,{published:"active"===e.status,onEdit:()=>console.log("Edit product",e.id),onPublish:async()=>{if(await w({title:"Publish product?",description:"Produsul va deveni vizibil public.",confirmText:"Publish"}))try{console.log("Publishing product",e.id),x.A.success("Produs publicat")}catch(e){x.A.error("Eroare la publicare")}},onUnpublish:async()=>{if(await w({title:"Unpublish product?",description:"Produsul nu va mai fi vizibil public.",confirmText:"Unpublish"}))try{console.log("Unpublishing product",e.id),x.A.success("Produs ascuns")}catch(e){x.A.error("Eroare la ascundere")}},onDelete:async()=>{if(await w({title:"Delete product?",description:"Acțiune ireversibilă. Produsul va fi șters definitiv.",confirmText:"Delete",variant:"danger"}))try{console.log("Deleting product",e.id),x.A.success("Produs șters")}catch(e){x.A.error("Eroare la ștergere")}}})}];return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[s.jsx("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(o.I,{placeholder:"Caută produse...",value:f,onChange:e=>g(e.target.value),className:"pl-10"})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(c.Ph,{value:b,onValueChange:v,children:[s.jsx(c.i4,{className:"w-32",children:s.jsx(c.ki,{placeholder:"Status"})}),(0,s.jsxs)(c.Bw,{children:[s.jsx(c.Ql,{value:"active",children:"Active"}),s.jsx(c.Ql,{value:"pending",children:"Pending"}),s.jsx(c.Ql,{value:"inactive",children:"Inactive"}),s.jsx(c.Ql,{value:"",children:"Toate"})]})]}),(0,s.jsxs)(d.z,{variant:"secondary",size:"sm",children:[s.jsx(m,{className:"h-4 w-4 mr-2"}),"Filtrează"]})]})]}),j.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-brand/10 rounded-lg",children:[(0,s.jsxs)("span",{className:"text-sm text-brand font-medium",children:[j.length," produse selectate"]}),s.jsx(d.z,{variant:"secondary",size:"sm",children:"Activează"}),s.jsx(d.z,{variant:"secondary",size:"sm",children:"Dezactivează"}),s.jsx(d.z,{variant:"destructive",size:"sm",children:"Șterge"})]}),s.jsx(r.w,{columns:N,rows:t,rowKey:e=>e.id,selectable:!0,onSelectionChange:e=>{y(e),console.log("Selected rows:",e)}})]})}},4432:(e,t,a)=>{"use strict";a.d(t,{I:()=>l});var s=a(326),r=a(7577),i=a(1135);let l=r.forwardRef(({className:e,...t},a)=>s.jsx("input",{ref:a,className:(0,i.Z)("h-10 w-full rounded-xl border border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60","px-3 text-sm text-slate-900 dark:text-slate-100 placeholder:text-slate-400","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2 ring-offset-white dark:ring-offset-slate-950",e),...t}));l.displayName="Input"},474:(e,t,a)=>{"use strict";a.d(t,{Pagination:()=>n});var s=a(326),r=a(434),i=a(5047),l=a(1135);function n({totalPages:e,currentPage:t,maxPagesToShow:a=5,ariaLabel:n="Pagination"}){let d=(0,i.usePathname)(),o=(0,i.useSearchParams)(),c=e=>{let t=new URLSearchParams(o.toString());return e<=1?t.delete("page"):t.set("page",String(e)),`${d}?${t.toString()}`.replace(/\?$/,"")};if(e<=1)return null;let u=Math.max(1,t-Math.floor(a/2)),p=Math.min(e,u+a-1);p-u+1<a&&(u=Math.max(1,p-a+1));let x=[];for(let e=u;e<=p;e++)x.push(e);let h="min-w-9 h-9 px-2 inline-flex items-center justify-center rounded-lg border text-sm transition-all duration-200 border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60 hover:shadow-soft hover:-translate-y-[1px] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2 ring-offset-white dark:ring-offset-slate-950";return(0,s.jsxs)("nav",{"aria-label":n,className:"mt-6 flex items-center justify-center gap-2",children:[s.jsx(r.default,{"aria-label":"Pagina anterioară",href:c(Math.max(1,t-1)),className:(0,l.Z)(h,1===t&&"pointer-events-none opacity-50"),children:"‹"}),u>1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(r.default,{href:c(1),className:h,children:"1"}),u>2&&s.jsx("span",{className:"px-1 text-slate-500 dark:text-slate-400",children:"…"})]}),x.map(e=>s.jsx(r.default,{href:c(e),"aria-current":e===t?"page":void 0,className:(0,l.Z)(h,e===t&&"bg-brand text-white border-brand hover:shadow-none hover:translate-y-0"),children:e},e)),p<e&&(0,s.jsxs)(s.Fragment,{children:[p<e-1&&s.jsx("span",{className:"px-1 text-slate-500 dark:text-slate-400",children:"…"}),s.jsx(r.default,{href:c(e),className:h,children:e})]}),s.jsx(r.default,{"aria-label":"Pagina următoare",href:c(Math.min(e,t+1)),className:(0,l.Z)(h,t===e&&"pointer-events-none opacity-50"),children:"›"})]})}},4474:(e,t,a)=>{"use strict";a.d(t,{Bw:()=>m,Ph:()=>c,Ql:()=>f,i4:()=>p,ki:()=>u});var s=a(326),r=a(7577),i=a(8792),l=a(8393),n=a(6633),d=a(2933),o=a(7863);let c=i.fC;i.ZA;let u=i.B4,p=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(i.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-xl border border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60 px-3 py-2 text-sm text-slate-900 dark:text-slate-100 placeholder:text-slate-500 dark:placeholder:text-slate-400","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","transition-colors duration-200",e),...a,children:[t,s.jsx(i.JO,{asChild:!0,children:s.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=i.xz.displayName;let x=r.forwardRef(({className:e,...t},a)=>s.jsx(i.u_,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(n.Z,{className:"h-4 w-4"})}));x.displayName=i.u_.displayName;let h=r.forwardRef(({className:e,...t},a)=>s.jsx(i.$G,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(l.Z,{className:"h-4 w-4"})}));h.displayName=i.$G.displayName;let m=r.forwardRef(({className:e,children:t,position:a="popper",...r},l)=>s.jsx(i.h_,{children:(0,s.jsxs)(i.VY,{ref:l,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-xl border border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60 text-slate-950 dark:text-slate-50 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[s.jsx(x,{}),s.jsx(i.l_,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(h,{})]})}));m.displayName=i.VY.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(i.__,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let f=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(i.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-lg py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 dark:focus:bg-slate-700 focus:text-slate-900 dark:focus:text-slate-50 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(i.wU,{children:s.jsx(d.Z,{className:"h-4 w-4"})})}),s.jsx(i.eT,{children:t})]}));f.displayName=i.ck.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(i.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-700",e),...t})).displayName=i.Z0.displayName},8307:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},7478:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(9510),r=a(120),i=a(1920),l=a(5126),n=a(3878),d=a(4052);let o=(0,a(8570).createProxy)(String.raw`D:\pots.ro\app\admin\products\client.tsx#default`);async function c({searchParams:e}){let t=e?.page??1,a=e?.pageSize??20,c=e?.q??"",u=e?.status??"active",p=new URL("/api/admin/products",process.env.NEXT_PUBLIC_SITE_URL||"http://localhost:3000");p.searchParams.set("page",t.toString()),p.searchParams.set("pageSize",a.toString()),c&&p.searchParams.set("q",c),u&&p.searchParams.set("status",u);let x={items:[],meta:{totalPages:1,page:1,totalItems:0}};try{let e=await fetch(p.toString(),{cache:"no-store",headers:{"Content-Type":"application/json"}});e.ok&&(x=await e.json())}catch(e){console.error("Error fetching products:",e)}return(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.w,{}),s.jsx("main",{className:"mx-auto max-w-6xl px-4 py-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(i.O,{items:[{label:"Acasă",href:"/"},{label:"Admin",href:"/admin"},{label:"Produse"}]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(d.H1,{children:"Gestionare Produse"}),(0,s.jsxs)(d.P,{className:"text-slate-600 dark:text-slate-300",children:["Administrează produsele din platformă. ",x.meta.totalItems," produse găsite."]})]}),s.jsx(o,{initial:x}),x.meta.totalPages>1&&s.jsx(r.t,{totalPages:x.meta.totalPages,currentPage:x.meta.page,ariaLabel:"Paginare produse admin"})]})}),s.jsx(n.$,{})]})}},120:(e,t,a)=>{"use strict";a.d(t,{t:()=>s});let s=(0,a(8570).createProxy)(String.raw`D:\pots.ro\components\ui\pagination.tsx#Pagination`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,845,124,9,601,103,86,251,481,174,121,482],()=>a(7841));module.exports=s})();