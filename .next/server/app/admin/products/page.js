(()=>{var e={};e.id=122,e.ids=[122],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7841:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(7478),a(8382),a(5866);var s=a(3191),r=a(8716),n=a(7922),i=a.n(n),l=a(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["admin",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7478)),"D:\\pots.ro\\app\\admin\\products\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,8382)),"D:\\pots.ro\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\pots.ro\\app\\admin\\products\\page.tsx"],u="/admin/products/page",h={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/products/page",pathname:"/admin/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8763:(e,t,a)=>{Promise.resolve().then(a.bind(a,4782)),Promise.resolve().then(a.bind(a,4458)),Promise.resolve().then(a.bind(a,474)),Promise.resolve().then(a.t.bind(a,9404,23))},4782:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var s=a(326),r=a(2843),n=a(434),i=a(7577),l=a(567),o=a(772),d=a(4432),c=a(4474),u=a(8031),h=a(8307);let p=(0,a(2881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);function x({initial:e}){let[t,a]=(0,i.useState)(e.items),[x,m]=(0,i.useState)(""),[g,v]=(0,i.useState)("active"),[f,j]=(0,i.useState)([]);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[s.jsx("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(d.I,{placeholder:"Caută produse...",value:x,onChange:e=>m(e.target.value),className:"pl-10"})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(c.Ph,{value:g,onValueChange:v,children:[s.jsx(c.i4,{className:"w-32",children:s.jsx(c.ki,{placeholder:"Status"})}),(0,s.jsxs)(c.Bw,{children:[s.jsx(c.Ql,{value:"active",children:"Active"}),s.jsx(c.Ql,{value:"pending",children:"Pending"}),s.jsx(c.Ql,{value:"inactive",children:"Inactive"}),s.jsx(c.Ql,{value:"",children:"Toate"})]})]}),(0,s.jsxs)(o.z,{variant:"secondary",size:"sm",children:[s.jsx(p,{className:"h-4 w-4 mr-2"}),"Filtrează"]})]})]}),f.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-brand/10 rounded-lg",children:[(0,s.jsxs)("span",{className:"text-sm text-brand font-medium",children:[f.length," produse selectate"]}),s.jsx(o.z,{variant:"secondary",size:"sm",children:"Activează"}),s.jsx(o.z,{variant:"secondary",size:"sm",children:"Dezactivează"}),s.jsx(o.z,{variant:"destructive",size:"sm",children:"Șterge"})]}),s.jsx(r.w,{columns:[{key:"title",header:"Produs",sortable:!0,render:e=>(0,s.jsxs)("div",{className:"max-w-[340px]",children:[s.jsx(n.default,{href:`/p/${e.id}`,className:"font-medium hover:underline text-slate-900 dark:text-slate-100",children:e.title}),(0,s.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["V\xe2ndut de"," ",s.jsx(n.default,{className:"hover:underline text-brand",href:`/s/${e.sellers.slug}`,children:e.sellers.brand_name})]})]})},{key:"price",header:"Preț",align:"right",sortable:!0,render:e=>(0,s.jsxs)("span",{className:"font-medium",children:[e.price.toFixed(2)," ",e.currency]})},{key:"stock",header:"Stoc",align:"right",sortable:!0,render:e=>s.jsx("span",{className:e.stock>10?"text-green-600":e.stock>0?"text-amber-600":"text-red-600",children:e.stock})},{key:"status",header:"Status",sortable:!0,render:e=>s.jsx(l.C,{variant:"active"===e.status?"success":"pending"===e.status?"warning":"neutral",children:e.status})},{key:"created_at",header:"Creat",sortable:!0,render:e=>new Date(e.created_at).toLocaleDateString("ro-RO")},{key:"actions",header:"",align:"right",width:"60px",render:e=>s.jsx(u.F,{published:"active"===e.status,onEdit:()=>console.log("Edit product",e.id),onPublish:async()=>{console.log("Publishing product",e.id)},onUnpublish:async()=>{console.log("Unpublishing product",e.id)},onDelete:async()=>{confirm("Ștergi acest produs?")&&console.log("Deleting product",e.id)}})}],rows:t,rowKey:e=>e.id,selectable:!0,onSelectionChange:e=>{j(e),console.log("Selected rows:",e)}})]})}},474:(e,t,a)=>{"use strict";a.d(t,{Pagination:()=>l});var s=a(326),r=a(434),n=a(5047),i=a(1135);function l({totalPages:e,currentPage:t,maxPagesToShow:a=5,ariaLabel:l="Pagination"}){let o=(0,n.usePathname)(),d=(0,n.useSearchParams)(),c=e=>{let t=new URLSearchParams(d.toString());return e<=1?t.delete("page"):t.set("page",String(e)),`${o}?${t.toString()}`.replace(/\?$/,"")};if(e<=1)return null;let u=Math.max(1,t-Math.floor(a/2)),h=Math.min(e,u+a-1);h-u+1<a&&(u=Math.max(1,h-a+1));let p=[];for(let e=u;e<=h;e++)p.push(e);let x="min-w-9 h-9 px-2 inline-flex items-center justify-center rounded-lg border text-sm transition-all duration-200 border-slate-200 dark:border-white/10 bg-white dark:bg-slate-900/60 hover:shadow-soft hover:-translate-y-[1px] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2 ring-offset-white dark:ring-offset-slate-950";return(0,s.jsxs)("nav",{"aria-label":l,className:"mt-6 flex items-center justify-center gap-2",children:[s.jsx(r.default,{"aria-label":"Pagina anterioară",href:c(Math.max(1,t-1)),className:(0,i.Z)(x,1===t&&"pointer-events-none opacity-50"),children:"‹"}),u>1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(r.default,{href:c(1),className:x,children:"1"}),u>2&&s.jsx("span",{className:"px-1 text-slate-500 dark:text-slate-400",children:"…"})]}),p.map(e=>s.jsx(r.default,{href:c(e),"aria-current":e===t?"page":void 0,className:(0,i.Z)(x,e===t&&"bg-brand text-white border-brand hover:shadow-none hover:translate-y-0"),children:e},e)),h<e&&(0,s.jsxs)(s.Fragment,{children:[h<e-1&&s.jsx("span",{className:"px-1 text-slate-500 dark:text-slate-400",children:"…"}),s.jsx(r.default,{href:c(e),className:x,children:e})]}),s.jsx(r.default,{"aria-label":"Pagina următoare",href:c(Math.min(e,t+1)),className:(0,i.Z)(x,t===e&&"pointer-events-none opacity-50"),children:"›"})]})}},7478:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(9510),r=a(120),n=a(1920),i=a(5126),l=a(3878),o=a(4052);let d=(0,a(8570).createProxy)(String.raw`D:\pots.ro\app\admin\products\client.tsx#default`);async function c({searchParams:e}){let t=e?.page??1,a=e?.pageSize??20,c=e?.q??"",u=e?.status??"active",h=new URL("/api/admin/products",process.env.NEXT_PUBLIC_SITE_URL||"http://localhost:3000");h.searchParams.set("page",t.toString()),h.searchParams.set("pageSize",a.toString()),c&&h.searchParams.set("q",c),u&&h.searchParams.set("status",u);let p={items:[],meta:{totalPages:1,page:1,totalItems:0}};try{let e=await fetch(h.toString(),{cache:"no-store",headers:{"Content-Type":"application/json"}});e.ok&&(p=await e.json())}catch(e){console.error("Error fetching products:",e)}return(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.w,{}),s.jsx("main",{className:"mx-auto max-w-6xl px-4 py-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(n.O,{items:[{label:"Acasă",href:"/"},{label:"Admin",href:"/admin"},{label:"Produse"}]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(o.H1,{children:"Gestionare Produse"}),(0,s.jsxs)(o.P,{className:"text-slate-600 dark:text-slate-300",children:["Administrează produsele din platformă. ",p.meta.totalItems," produse găsite."]})]}),s.jsx(d,{initial:p}),p.meta.totalPages>1&&s.jsx(r.t,{totalPages:p.meta.totalPages,currentPage:p.meta.page,ariaLabel:"Paginare produse admin"})]})}),s.jsx(l.$,{})]})}},120:(e,t,a)=>{"use strict";a.d(t,{t:()=>s});let s=(0,a(8570).createProxy)(String.raw`D:\pots.ro\components\ui\pagination.tsx#Pagination`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,233,876,9,194,703,103,86,251,481,6,319],()=>a(7841));module.exports=s})();