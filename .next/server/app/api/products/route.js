"use strict";(()=>{var e={};e.id=684,e.ids=[684],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3943:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var a={};r.r(a),r.d(a,{GET:()=>c});var o=r(9303),n=r(8716),i=r(670),s=r(7070),u=r(7986);let p=Array.from({length:137},(e,t)=>({id:t+1,title:`Produs ${t+1}`,price:Math.floor(100*Math.random())+10,categorySlug:["ghivece","cutii","accesorii"][t%3],status:"active",createdAt:new Date(Date.now()-2592e6*Math.random()).toISOString()}));async function c(e){try{let t=new URL(e.url),r=t.searchParams.get("page"),a=t.searchParams.get("pageSize"),o=t.searchParams.get("categorySlug"),n=(0,u.ot)({page:r,pageSize:a,maxPageSize:60,defaultPageSize:24}),i=p;o&&(i=p.filter(e=>e.categorySlug===o));let c=n.offset,l=Math.min(n.offset+n.limit,i.length),g=i.slice(c,l),d=i.length,h=(0,u.CE)(d,n);return s.NextResponse.json({items:g,meta:h,success:!0})}catch(e){return console.error("API Error:",e),s.NextResponse.json({error:"Internal server error",success:!1},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"D:\\pots.ro\\app\\api\\products\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:g,staticGenerationAsyncStorage:d,serverHooks:h}=l,m="/api/products/route";function f(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},7986:(e,t,r)=>{function a({page:e,pageSize:t,maxPageSize:r=60,defaultPageSize:a=24}){let i=n(o(e,1),1,1e6),s=n(o(t,a),1,r);return{page:i,pageSize:s,limit:s,offset:(i-1)*s}}function o(e,t){if(null==e)return t;let r="string"==typeof e?parseInt(e,10):Math.trunc(e);return Number.isFinite(r)?r:t}function n(e,t,r){return Math.max(t,Math.min(r,e))}function i(e,t){let r=Math.max(1,Math.ceil(e/t.pageSize)),a=Math.min(t.page,r);return{page:a,pageSize:t.pageSize,totalItems:e,totalPages:r,hasPrev:a>1,hasNext:a<r}}r.d(t,{CE:()=>i,ot:()=>a})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972],()=>r(3943));module.exports=a})();